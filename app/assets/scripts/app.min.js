/*
----------------------------------------------------
FrontEnd Challenge - Conta Azul
----------------------------------------------------
projeto	: frontend-challenge
versao	: 1.0.0
data	: 19/02/2018 13:02:21
autora	: Virginia Rodrigues
----------------------------------------------------
*/

const cityTemp=frontEndChallenge.getCity(["3421319,3445709,184745"]),cityEl=document.getElementById("box");function refresh(time){setInterval(cityTemp,time)}cityTemp.then(data=>{markup=data.list.map(item=>`<div class="card">\n    <header class="card-header">${item.name}, ${item.sys.country} </header>\n    <p class="card-temperature" data-value="${item.main.temp}">${item.main.temp}<span class="card-degree">Â°</span></p>\n    <div class="card-footer">\n    <div class="card-footer-item"> <p class="card-footer-title">HUMIDITY</p>${item.main.humidity}<span class="card-footer-unity unity-humidity">%</span> </div>\n    <div class="card-footer-item"> <p class="card-footer-title">PRESSURE</p>${item.main.pressure}<span class="card-footer-unity unity-hpa">hPa</span></div>\n    <p class="card-footer-txt">Uploaded at 02:48:50 PM</p>\n    </div>\n    </div>`).join(""),cityEl.innerHTML=markup}),cityTemp.then(data=>{const tempItem=document.querySelectorAll("[data-value]");temp=data.list.map(item=>{for(let i=0;i<tempItem.length;i++){let tempValue=tempItem[i].getAttribute("data-value");tempValue<5?tempItem[i].classList.add("color-blue"):tempValue>=5&&tempValue<25?tempItem[i].classList.add("color-orange"):tempValue>25&&tempItem[i].classList.add("color-red")}})}),refresh(6e5);